language: groovy

os:
  - osx

jobs:
  include:
    - os: osx
      osx_image: xcode11

env:
  global:
    - GRADLE_OPTS=-Xmx1524m

jdk:
  - openjdk8
  - openjdk14
  - openjdk-ea
  
matrix:
  allow_failures:
    - jdk: openjdk-ea  
    - jdk: openjdk8
      if: os = osx

script:
  - java -version
  - ./gradlew -version
  - ./gradlew --stop
  - ./gradlew --refresh-dependencies clean check test -Dscan --info
